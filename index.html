<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Snow Catcher 2022</title>
		<link rel="stylesheet" href="style.css?v=001" />
	</head>
	<body>
		<winter-chimes id="melody" melody="C D E G A c d e"></winter-chimes>
		<button commandfor="melody" command="--start">start melody</button>
		<button commandfor="melody" command="--stop">stop melody</button>

		<script
			type="module"
			async
			src="https://unpkg.com/invokers-polyfill@latest/invoker.min.js"
		></script>

		<svg viewBox="0 0 600 750" id="game">
			<g clip-path="url(#cut-off-bottom)">
			<rect width="600" height="750" fill="url(#background-gradient)" />
<path d="M60 0 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160 
		m120 -840 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160
		m120 -640 q40,80,0,160t0 160 0 160 0 160" 
        stroke="#fff" stroke-width="10" stroke-linecap="round" stroke-dasharray="0 80"
        fill="none"  opacity="0.4">
		<animate attributeName="stroke-dashoffset" to="-80" dur="2s" begin="-0.9s" repeatCount="indefinite" />
    </path>
<path d="M10 -13 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160 
		m120 -660 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160 
		m120 -640 q40,80,0,160t0 160 0 160 0 160
		m120 -640 q40,80,0,160t0 160 0 160 0 160 " 
        stroke="#fff" stroke-width="10" stroke-linecap="round" stroke-dasharray="0 123"
        fill="none"  opacity="2">
		<animate attributeName="stroke-dashoffset" to="-123" dur="2s" begin="-0.9s" repeatCount="indefinite" />
    </path>



			<g class="clouds" >
				<path
					class="cloud"
					d="M 600 300 a 20 40 0 0 1 40 -30, 35 60 0 0 1 80 30, 15 40 0 0 1 30 -30 , 20 30 10 0 1 30 30"
					fill="url(#cloud-gradient)"
				/>
				<path
					class="cloud"
					style="--cloud-delay: -12s"
					d="M 600 100 a 10 10 0 0 1 20 -30, 25 40 0 0 1 50 30, 15 40 0 0 1 30 -30 , 20 30 10 0 1 30 30"
					fill="url(#cloud-gradient)"
				/>
				<path
					class="cloud"
					style="--cloud-delay: -23s"
					d="M 600 200 a 20 40 0 0 1 40 -30, 35 60 0 0 1 80 30, 15 40 0 0 1 30 -30 , 20 30 10 0 1 30 30"
					fill="url(#cloud-gradient)"
				/>
			</g>
			<g id="player" class="standing" transform="translate(300,700)">
				<g class="figure">
					<path
						class="foot"
						d="M-12 21 a 12 14 0 0 1 24 0 Z"
						fill="#46468F"
						stroke="#3A3A78"
						stroke-width="2"
					/>
					<path
						class="foot"
						d="M-12 21 a 12 14 0 0 1 24 0 Z"
						fill="#46468F"
						stroke="#3A3A78"
						stroke-width="2"
					/>
					<path
						id="body"
						d="M-24 0a 24 32 0 0 1 48 0 Z"
						fill="#5858B4"
						stroke="#3A3A78"
						stroke-width="2"
					/>
					<circle
						id="head"
						cy="-50"
						r="19"
						fill="#5858B4"
						stroke="#46468F"
						stroke-width="2"
					/>
					<g class="while-standing">
						<circle
							id="face-front"
							cy="-50"
							r="12"
							fill="white"
							stroke="#46468F"
							stroke-width="2"
						/>
						<ellipse
							style="transform-origin: -2px 19px"
							id="eye-left"
							class="eye"
							cx="-3px"
							cy="-50"
							rx="3"
							ry="5"
							fill="black"
						/>
						<ellipse
							id="eye-right"
							class="eye"
							style="transform-origin: 29px 19px"
							cx="3"
							cy="-50"
							rx="2"
							ry="4"
							fill="black"
						/>
						<circle cy="-10" r="2" stroke="white" />
						<circle cy="-20" r="2" stroke="white" />
					</g>
					<g class="while-running">
						<rect
							id="face-side"
							x="-24"
							y="-61"
							width="7"
							height="23"
							rx="4"
							fill="#5858B4"
							stroke="#46468F"
							stroke-width="2"
						/>
						<path
							class="scarf"
							d="M10 -34h30 v10Z"
							fill="#4BA0C9"
							stroke="#16729E"
							stroke-width="2"
						/>
						<path
							class="scarf"
							d="M10 -34h30 v10Z"
							fill="#4BA0C9"
							stroke="#16729E"
							stroke-width="2"
						/>
					</g>
					<rect
						id="neck"
						x="-15"
						y="-37"
						width="30"
						height="10"
						rx="5.5"
						fill="#4BA0C9"
						stroke="#16729E"
						stroke-width="2"
					/>
				</g>
			</g>
			</g>
			<defs>
				<clipPath id="cut-off-bottom">
      				<rect x="0" y="0" width="600" height="750" rx="20" ry="20" />
    			</clipPath>
				<linearGradient id="cloud-gradient" x1="0" y1="0" x2="0" y2="1">
					<stop offset="0.5" stop-color="#fff" />
					<stop offset="1" stop-color="#fff" stop-opacity="0" />
				</linearGradient>
				<linearGradient id="background-gradient" x1="0" y1="0" x2="0" y2="1">
					<stop stop-color="#62AADE" />
					<stop offset="0.76346" stop-color="#F8FBFE" />
					<stop offset="0.899538" stop-color="white" />
					<stop offset="1" stop-color="#62AADE" />
				</linearGradient>
			</defs>
		</svg>
		<script src="./game.js"></script>
		<script type="module" src="./melody.js"></script>
	</body>
</html>
